#!/usr/bin/env fdp
digraph factorial_recursive {
        graph[splines=true]
        subgraph cluster_global {
                label="global"
                node[shape=plaintext]
                global[label=""]
        }
        subgraph cluster_e1 {
                label="E1"
                f_e1[label="n: 6\l(fact-iter 1 1 n)",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e1 -> cluster_global
        }
        subgraph cluster_e2 {
                label="E2"
                f_e2[label="product: 1\lcounter: 1\lmax-count: 6\l\l(if (> counter max-count)\l    product\l    (fact-iter (* counter product)\l               (+ counter 1)\l         max-count)))",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e2 -> cluster_global
        }
        subgraph cluster_e3 {
                label="E3"
                f_e3[label="product: 1\lcounter: 2\lmax-count: 6\l\l(if (> counter max-count)\l    product\l    (fact-iter (* counter product)\l               (+ counter 1)\l         max-count)))",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e3 -> cluster_global
        }
        subgraph cluster_e4 {
                label="E4"
                f_e4[label="product: 2\lcounter: 3\lmax-count: 6\l\l(if (> counter max-count)\l    product\l    (fact-iter (* counter product)\l               (+ counter 1)\l         max-count)))",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e4 -> cluster_global
        }
        subgraph cluster_e5 {
                label="E5"
                f_e5[label="product: 6\lcounter: 4\lmax-count: 6\l\l(if (> counter max-count)\l    product\l    (fact-iter (* counter product)\l               (+ counter 1)\l         max-count)))",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e5 -> cluster_global
        }
        subgraph cluster_e6 {
                label="E6"
                f_e6[label="product: 24\lcounter: 5\lmax-count: 6\l\l(if (> counter max-count)\l    product\l    (fact-iter (* counter product)\l               (+ counter 1)\l         max-count)))",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e6 -> cluster_global
        }
        subgraph cluster_e7 {
                label="E7"
                f_e7[label="product: 120\lcounter: 6\lmax-count: 6\l\l(if (> counter max-count)\l    product\l    (fact-iter (* counter product)\l               (+ counter 1)\l         max-count)))",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e7 -> cluster_global
        }
        subgraph cluster_e8 {
                label="E8"
                f_e8[label="product: 720\lcounter: 7\lmax-count: 6\l\l(if (> counter max-count)\l    product\l    (fact-iter (* counter product)\l               (+ counter 1)\l         max-count)))",
                     fontname=monospace,
                     shape=plaintext]
                cluster_e8 -> cluster_global
        }
}
